<template name="redlinkQuery">
    <!--Represents a single proposed query which might include a preview-->
    <div class="query-item clearfix" data-template-index="{{templateIndex}}" data-query-index="{{queryIndex}}">
        <a href="{{url}}" target="_blank" class="query-item-logo" title="{{query.creator}}"><img
                src="/packages/rocketchat_livechat/assets/icons/{{query.creator}}.png"
                onerror="this.onerror=null; this.src='/packages/rocketchat_livechat/assets/icons/fallback_logo.png';">
            <span class="creator_label">{{_ query.creator}}</span></a>
        <a class="query-item-url" href="{{query.url}}" target="_blank">
            <span class="query-servicename">{{query.displayTitle}}</span>
            <span class="icon-wrapper"><i class="icon-link-ext"></i></span>
        </a>
		{{#if and query.inlineResultSupport visibleResult}}
            <div class="query-results-navigation">
                <span class="js-toggle-results-expanded icon-up-open"></span>
                <span class="js-previous-result">&lt;</span>
                <span class="js-next-result">&gt;</span>
                <span>{{visibleResultNumer}}/{{resultsCount}}</span>
            </div>
            <div class="query-preview {{classExpanded}}">
				{{#if and query.inlineResultSupport maxConfidence=query.confidence}}
                    <!-- Another template has to use the query propagated to it in order to issue a separate request which provides the actual result -->
                    <h4>Ergebnisse</h4>
					{{> redlinkInlineResult result=visibleResult}}
				{{/if}}
            </div>
		{{/if}}
    </div>
</template>
